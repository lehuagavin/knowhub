# 第六章 架构师思维 - 习题

## 一、选择题

### 1. 关于DDD中的限界上下文（Bounded Context），以下说法正确的是？
A. 限界上下文越小越好
B. 同一个概念在不同限界上下文中可以有不同的含义
C. 限界上下文之间不能有任何通信
D. 一个微服务必须对应多个限界上下文

### 2. 以下哪个不是架构反模式？
A. 简历驱动开发
B. 分布式单体
C. 关注点分离
D. 金锤子

### 3. ADR（Architecture Decision Record）的核心价值是？
A. 记录代码的实现细节
B. 记录架构决策的背景和理由
C. 替代代码注释
D. 用于项目管理

### 4. 关于演进式架构，以下说法错误的是？
A. 架构应该随业务发展而演进
B. 适应度函数用于客观评估架构质量
C. 应该在项目初期就设计出最终的架构
D. 过早引入复杂架构是一种过度设计

### 5. DDD中的聚合根（Aggregate Root）的作用是？
A. 数据库的主键
B. 保证聚合内部的一致性，作为外部访问聚合的唯一入口
C. 微服务的入口控制器
D. 消息队列的消费者

---

## 二、简答题

### 6. 请解释DDD中的"通用语言"（Ubiquitous Language）概念。为什么它对软件开发很重要？请举一个实际例子说明通用语言如何避免沟通问题。

### 7. 请比较技术选型时需要考虑的关键维度。如果你的团队需要选择一个数据库（MySQL vs PostgreSQL vs MongoDB），你会如何评估？

### 8. 什么是"分布式单体"反模式？它是如何产生的？如何避免？

---

## 三、设计题

### 9. 领域建模练习
请为一个在线教育平台进行领域建模，该平台的核心功能包括：
- 讲师可以创建和管理课程
- 课程包含多个章节和课时
- 学生可以购买课程并学习
- 学生完成课时后可以获得学习进度
- 学生完成所有课时后获得结业证书

请完成：
- 识别核心领域和子域
- 划分限界上下文
- 设计聚合和聚合根
- 识别领域事件

### 10. 架构评审练习
你的团队提出了以下架构方案用于一个内部管理系统（用户量约500人）：
- 前端：React + TypeScript
- 后端：10个微服务，使用Kubernetes部署
- 数据库：每个微服务独立的PostgreSQL实例
- 消息队列：Kafka集群（3个Broker）
- 缓存：Redis Cluster（6个节点）
- 服务网格：Istio
- 监控：Prometheus + Grafana + Jaeger

请对这个方案进行架构评审：
- 指出可能存在的问题
- 给出你的改进建议
- 说明理由
