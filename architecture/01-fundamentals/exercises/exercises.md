# 第一章 基础知识 - 习题

## 一、选择题

### 1. 关于Java、Go、Python三种语言的内存管理，以下说法正确的是？
A. Java使用引用计数进行垃圾回收
B. Go的GC是基于标记-清除算法的并发GC
C. Python不支持垃圾回收，需要手动管理内存
D. Go的GC会导致长时间的STW（Stop The World）

### 2. 以下哪种数据结构最适合实现LRU缓存？
A. 数组
B. 哈希表 + 双向链表
C. 红黑树
D. 跳表

### 3. 关于B+树，以下说法错误的是？
A. 所有数据都存储在叶子节点
B. 叶子节点之间通过指针相连
C. B+树适合范围查询
D. B+树的非叶子节点也存储完整数据记录

### 4. 一致性哈希解决的核心问题是？
A. 数据加密
B. 节点增减时减少数据迁移量
C. 提高排序效率
D. 减少内存使用

### 5. 关于时间复杂度，以下排序正确的是？
A. O(1) < O(log n) < O(n) < O(n log n) < O(n²) < O(2ⁿ)
B. O(1) < O(n) < O(log n) < O(n log n) < O(n²) < O(2ⁿ)
C. O(1) < O(log n) < O(n) < O(n²) < O(n log n) < O(2ⁿ)
D. O(log n) < O(1) < O(n) < O(n log n) < O(n²) < O(2ⁿ)

---

## 二、简答题

### 6. 请解释什么是协程（Coroutine），它与线程有什么区别？Go的goroutine和Python的asyncio分别是如何实现协程的？

### 7. 请画出一个哈希表处理冲突的两种方法（链地址法和开放寻址法）的示意图，并比较它们的优缺点。

### 8. 解释跳表（Skip List）的基本原理。为什么Redis的Sorted Set选择跳表而不是红黑树？

---

## 三、设计题

### 9. 设计一个简单的内存分配器
假设你有一块连续的内存空间（如1MB），需要实现 `allocate(size)` 和 `free(ptr)` 两个方法。请描述你的设计思路，考虑以下问题：
- 如何记录哪些内存块是空闲的？
- 如何处理内存碎片？
- 分配策略选择（首次适配、最佳适配、最差适配）的权衡是什么？

### 10. 一致性哈希的虚拟节点
在一致性哈希中，如果物理节点较少（如3个），数据分布可能不均匀。请用Python实现一个带虚拟节点的一致性哈希环，要求：
- 支持添加和删除节点
- 每个物理节点对应150个虚拟节点
- 实现 `get_node(key)` 方法，返回key应该存储在哪个物理节点上
