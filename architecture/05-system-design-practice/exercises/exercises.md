# 第五章 系统设计实战 - 习题

## 一、选择题

### 1. 在系统设计面试中，第一步应该做什么？
A. 立即开始画架构图
B. 明确需求和约束条件
C. 选择技术栈
D. 设计数据库表结构

### 2. 短链服务中，将数字ID转换为短链字符串通常使用什么方法？
A. MD5哈希
B. Base62编码
C. UUID
D. 自增ID直接使用

### 3. 信息流系统中，大V发布内容时推荐使用什么模式？
A. 纯推模式
B. 纯拉模式
C. 推拉结合，大V用拉模式
D. 不需要特殊处理

### 4. 以下哪个不是系统设计中的非功能需求？
A. 用户可以发布动态
B. 系统可用性 > 99.99%
C. API响应时间 < 200ms
D. 支持1000万日活用户

### 5. 短链服务的容量估算中，如果每天生成100万条短链，每条记录100字节，那么一年的存储量约为？
A. 3.6GB
B. 36GB
C. 360GB
D. 3.6TB

---

## 二、简答题

### 6. 请描述短链服务的完整请求流程（从用户输入短链到跳转到目标URL）。在这个流程中，哪些环节可以使用缓存优化？

### 7. 信息流系统中，推模式和拉模式各有什么优缺点？为什么实际系统通常采用推拉结合的方案？

### 8. 在系统设计中，如何进行容量估算（Back-of-the-envelope estimation）？请以一个日活1000万的社交应用为例，估算其存储和带宽需求。

---

## 三、设计题

### 9. 设计一个评论系统
要求支持以下功能：
- 用户可以对文章发表评论
- 支持评论的回复（嵌套评论，最多2层）
- 支持评论的点赞
- 按时间倒序或热度排序
- 日活用户100万，每天新增评论50万条

请设计：
- 数据模型（表结构）
- 核心API接口
- 缓存策略
- 如何处理热点文章的评论（如明星微博）

### 10. 设计一个秒杀系统
电商平台需要支持秒杀活动，要求：
- 商品库存1000件，预计100万用户同时抢购
- 保证不超卖
- 用户体验流畅，不能长时间等待
- 防止恶意刷单

请设计：
- 整体架构
- 库存扣减方案
- 流量控制策略
- 订单处理流程
